<Window x:Class="EliteSwitch.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="clr-namespace:H.NotifyIcon;assembly=H.NotifyIcon.Wpf"
        Title="Elite Switch" Height="0" Width="0"
        ShowInTaskbar="False"
        WindowStyle="None"
        ResizeMode="NoResize"
        Loaded="Window_Loaded"
        ContentRendered="Window_ContentRendered"
        Opacity="0">
    <Grid>
        <tb:TaskbarIcon
            x:Name="TrayIcon"
            IconSource="/icons/favicon.ico"
            ToolTipText="Elite Switch"
            Visibility="Visible">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem x:Name="ModeMenuItem" Header="Current Mode: Monitor" IsEnabled="False" FontWeight="Bold"/>
                    <Separator/>
                    <MenuItem x:Name="VRModeMenuItem" Header="Switch to VR Mode" Click="SwitchToVR_Click"/>
                    <MenuItem x:Name="MonitorModeMenuItem" Header="Switch to Monitor Mode" Click="SwitchToMonitor_Click"/>
                    <Separator/>
                    <MenuItem x:Name="AudioOutMenuItem" Header="Audio Out" SubmenuOpened="AudioOutMenuItem_SubmenuOpened">
                        <!-- Dynamic menu items will be added here -->
                    </MenuItem>
                    <MenuItem x:Name="MicrophoneMenuItem" Header="Microphone" SubmenuOpened="MicrophoneMenuItem_SubmenuOpened">
                        <!-- Dynamic menu items will be added here -->
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Start Tools" Click="StartTools_Click"/>
                    <MenuItem Header="Stop Tools" Click="StopTools_Click"/>
                    <Separator/>
                    <MenuItem Header="Edit Config..." Click="EditConfig_Click"/>
                    <Separator/>
                    <MenuItem Header="Exit" Click="Exit_Click"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Grid>
</Window>
